import{R as x,j as e,a as p,r,B as c,b as i,P as u}from"./app-Cc2ftCbM.js";import{C as g,a as h}from"./circle-check-oZCx9mcm.js";function j(){const[s,d]=r.useState(null),[l,n]=r.useState(!0);if(r.useEffect(()=>{async function t(){try{const a=await window.openai.getToolOutput();d(a)}catch(a){console.error("Failed to fetch tool output:",a)}finally{n(!1)}}t()},[]),l)return e.jsx("div",{className:"p-4 max-w-md",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})});if(!s)return e.jsx("div",{className:"p-4 max-w-md",children:e.jsx("p",{className:"text-gray-600",children:"Unable to load booking information."})});const o=s.service_type.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()),m=()=>{window.openai.openUrl(`tel:${s.contact_phone.replace(/[^0-9]/g,"")}`)};return e.jsxs("div",{className:"p-6 max-w-md space-y-4 rounded-2xl border bg-surface shadow-lg",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"size-7 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Appointment Confirmed!"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(c,{color:"success",children:s.status.toUpperCase()}),e.jsxs("span",{className:"text-sm text-gray-600",children:["#",s.confirmation_number]})]})]})]}),e.jsxs("div",{className:"rounded-lg bg-gray-50 border border-gray-200 p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Service"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:o})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Time"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:s.time_window})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Customer"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:s.customer_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Phone"}),e.jsx("p",{className:"text-sm font-semibold text-blue-600 mt-0.5",children:s.contact_phone})]})]}),s.address&&e.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Service Address"}),e.jsx("p",{className:"text-sm text-gray-900 mt-0.5",children:s.address})]}),s.issue_summary&&e.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Issue"}),e.jsx("p",{className:"text-sm text-gray-900 mt-0.5",children:s.issue_summary})]})]}),s.promotion_applied&&e.jsx("div",{className:"rounded-lg bg-green-50 border border-green-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-900",children:"ðŸ·ï¸ Promotion Applied"}),e.jsx("p",{className:"text-xs text-green-800 mt-0.5",children:s.promotion_applied.discount})]}),e.jsx(c,{color:"success",children:s.promotion_applied.code})]})}),e.jsxs("div",{className:"rounded-lg bg-blue-50 border-l-4 border-blue-600 p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wide mb-1",children:"What's Next?"}),e.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:s.next_steps})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{onClick:m,variant:"soft",color:"secondary",block:!0,children:[e.jsx(u,{className:"size-4"}),"Call Us"]}),e.jsxs(i,{onClick:()=>window.openai.sendMessage("I need to reschedule"),variant:"soft",color:"secondary",block:!0,children:[e.jsx(h,{className:"size-4"}),"Reschedule"]})]})]})}x.createRoot(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(j,{})}));
