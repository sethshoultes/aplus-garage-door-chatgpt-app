import{R as o,j as e,a as m,r,P as x}from"./app-DS5tdZfu.js";import{C as p,a as g}from"./circle-check-y6VwcHnf.js";function u(){const[s,n]=r.useState(null),[i,l]=r.useState(!0);if(r.useEffect(()=>{async function t(){try{const a=window.openai.toolOutput||window.__TOOL_OUTPUT__;n(a)}catch(a){console.error("Failed to fetch tool output:",a)}finally{l(!1)}}t()},[]),i)return e.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})});if(!s)return e.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:e.jsx("p",{className:"text-gray-600",children:"Unable to load booking information."})});const d=s.service_type.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()),c=()=>{window.openai.openUrl(`tel:${s.contact_phone.replace(/[^0-9]/g,"")}`)};return e.jsxs("div",{className:"p-6 w-full max-w-md mx-auto space-y-4 rounded-2xl border border-gray-200 bg-white shadow-lg",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(p,{className:"size-7 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Appointment Confirmed!"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:s.status.toUpperCase()}),e.jsxs("span",{className:"text-sm text-gray-600",children:["#",s.confirmation_number]})]})]})]}),e.jsxs("div",{className:"rounded-lg bg-gray-50 border border-gray-200 p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Service"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:d})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Time"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:s.time_window})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Customer"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:s.customer_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Phone"}),e.jsx("p",{className:"text-sm font-semibold text-blue-600 mt-0.5",children:s.contact_phone})]})]}),s.address&&e.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Service Address"}),e.jsx("p",{className:"text-sm text-gray-900 mt-0.5",children:s.address})]}),s.issue_summary&&e.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Issue"}),e.jsx("p",{className:"text-sm text-gray-900 mt-0.5",children:s.issue_summary})]})]}),s.promotion_applied&&e.jsx("div",{className:"rounded-lg bg-green-50 border border-green-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-900",children:"ðŸ·ï¸ Promotion Applied"}),e.jsx("p",{className:"text-xs text-green-800 mt-0.5",children:s.promotion_applied.discount})]}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:s.promotion_applied.code})]})}),e.jsxs("div",{className:"rounded-lg bg-blue-50 border-l-4 border-blue-600 p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wide mb-1",children:"What's Next?"}),e.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:s.next_steps})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:c,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium rounded-lg transition-colors",children:[e.jsx(x,{className:"size-4"}),"Call Us"]}),e.jsxs("button",{onClick:()=>window.openai.sendMessage("I need to reschedule"),className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium rounded-lg transition-colors",children:[e.jsx(g,{className:"size-4"}),"Reschedule"]})]})]})}o.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(u,{})}));
