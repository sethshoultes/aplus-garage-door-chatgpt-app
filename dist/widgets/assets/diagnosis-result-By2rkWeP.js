import{R as c,j as e,a as m,r as a,P as x}from"./app-BmKUGKr_.js";import{T as g}from"./triangle-alert-BVJfncv-.js";function u(){const[s,l]=a.useState(null),[i,o]=a.useState(!0);if(a.useEffect(()=>{async function n(){try{const t=window.openai.toolOutput||window.__TOOL_OUTPUT__;l(t)}catch(t){console.error("Failed to fetch tool output:",t)}finally{o(!1)}}n()},[]),i)return e.jsx("div",{className:"p-4 max-w-md",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})});if(!s)return e.jsx("div",{className:"p-4 max-w-md",children:e.jsx("p",{className:"text-gray-600",children:"Unable to load diagnosis information."})});const r={emergency:{bgColor:"bg-red-100",textColor:"text-red-800",label:"Emergency",icon:"üö®"},soon:{bgColor:"bg-yellow-100",textColor:"text-yellow-800",label:"Service Soon",icon:"‚ö°"},routine:{bgColor:"bg-blue-100",textColor:"text-blue-800",label:"Routine",icon:"‚ÑπÔ∏è"}}[s.urgency],d=()=>{s.urgency==="emergency"?window.openai.sendMessage("I need emergency service right away"):window.openai.sendMessage("I'd like to schedule service for this issue")};return e.jsxs("div",{className:"p-6 w-full max-w-md mx-auto space-y-4 rounded-2xl border border-gray-200 bg-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.bgColor} ${r.textColor}`,children:[r.icon," ",r.label]}),e.jsxs("div",{className:"text-sm font-medium text-gray-600",children:["$",s.estimated_cost_range.min,"-$",s.estimated_cost_range.max]})]}),s.safety_warning&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{className:"size-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-red-900 text-sm",children:"Safety Warning"}),e.jsx("p",{className:"text-sm text-red-800 mt-1",children:s.safety_warning})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Likely Issues"}),e.jsx("div",{className:"space-y-2",children:s.likely_issues.map((n,t)=>e.jsxs("div",{className:"rounded-lg bg-gray-50 border border-gray-200 p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:n.name}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:n.description})]},t))})]}),s.applicable_promotion&&e.jsx("div",{className:"rounded-lg bg-green-50 border border-green-200 p-3",children:e.jsxs("p",{className:"text-sm font-medium text-green-900",children:["üè∑Ô∏è ",s.applicable_promotion]})}),e.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wide mb-1",children:"Next Steps"}),e.jsx("p",{className:"text-sm text-blue-800",children:s.next_steps})]}),e.jsx("button",{onClick:d,className:`w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 font-medium rounded-lg transition-colors ${s.urgency==="emergency"?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:s.urgency==="emergency"?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"size-4"}),"Get Emergency Service"]}):e.jsx(e.Fragment,{children:"üìÖ Schedule Service"})})]})}c.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(u,{})}));
