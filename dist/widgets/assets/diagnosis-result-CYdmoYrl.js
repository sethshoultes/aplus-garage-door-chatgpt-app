import{R as d,j as e,a as m,r as n,B as x,b as g,P as u}from"./app-C7A3LKTd.js";import{T as h}from"./triangle-alert-DrxyNifV.js";function p(){const[s,i]=n.useState(null),[c,l]=n.useState(!0);if(n.useEffect(()=>{async function a(){try{const r=window.openai.toolOutput||window.__TOOL_OUTPUT__;i(r)}catch(r){console.error("Failed to fetch tool output:",r)}finally{l(!1)}}a()},[]),c)return e.jsx("div",{className:"p-4 max-w-md",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})});if(!s)return e.jsx("div",{className:"p-4 max-w-md",children:e.jsx("p",{className:"text-gray-600",children:"Unable to load diagnosis information."})});const t={emergency:{color:"error",label:"Emergency",icon:"üö®"},soon:{color:"warning",label:"Service Soon",icon:"‚ö°"},routine:{color:"info",label:"Routine",icon:"‚ÑπÔ∏è"}}[s.urgency],o=()=>{s.urgency==="emergency"?window.openai.sendMessage("I need emergency service right away"):window.openai.sendMessage("I'd like to schedule service for this issue")};return e.jsxs("div",{className:"p-6 max-w-md space-y-4 rounded-2xl border bg-surface shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(x,{color:t.color,className:"text-sm",children:[t.icon," ",t.label]}),e.jsxs("div",{className:"text-sm font-medium text-gray-600",children:["$",s.estimated_cost_range.min,"-$",s.estimated_cost_range.max]})]}),s.safety_warning&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{className:"size-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-red-900 text-sm",children:"Safety Warning"}),e.jsx("p",{className:"text-sm text-red-800 mt-1",children:s.safety_warning})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Likely Issues"}),e.jsx("div",{className:"space-y-2",children:s.likely_issues.map((a,r)=>e.jsxs("div",{className:"rounded-lg bg-gray-50 border border-gray-200 p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:a.name}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.description})]},r))})]}),s.applicable_promotion&&e.jsx("div",{className:"rounded-lg bg-green-50 border border-green-200 p-3",children:e.jsxs("p",{className:"text-sm font-medium text-green-900",children:["üè∑Ô∏è ",s.applicable_promotion]})}),e.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wide mb-1",children:"Next Steps"}),e.jsx("p",{className:"text-sm text-blue-800",children:s.next_steps})]}),e.jsx(g,{onClick:o,variant:"solid",color:s.urgency==="emergency"?"error":"primary",block:!0,children:s.urgency==="emergency"?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"size-4"}),"Get Emergency Service"]}):e.jsx(e.Fragment,{children:"üìÖ Schedule Service"})})]})}d.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(p,{})}));
